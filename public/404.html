<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MUMS | Redirecting…</title>
  <link rel="stylesheet" href="./css/styles.css?v=p1-511" />
  <link rel="stylesheet" href="./css/mailbox.css?v=p1-511" />
  <link rel="stylesheet" href="./css/enterprise_ux.css?v=p1-511" />
</head>
<body>
  <div style="padding:18px;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial">
    <div style="font-weight:900;font-size:18px">Redirecting…</div>
    <div style="opacity:.75;margin-top:6px">If you are not redirected automatically, <a id="fallback" href="/index.html#dashboard">click here</a>.</div>
  </div>

  <script>
    // Cloudflare Pages doesn't automatically rewrite all clean URLs to /index.html.
    // This 404 handler redirects clean URLs (e.g. /cases) back into the SPA via hash routing.
    (function(){
      try {
        var p = String(window.location.pathname || '/');
        // Don't touch function routes.
        if (p === '/health' || p === '/health/' || p.startsWith('/api/')) return;

        // Normalize to a page id.
        var seg = p.replace(/^\/+/, '').split('/')[0] || 'dashboard';
        // If user somehow hit a file path, default to dashboard.
        if (seg.endsWith('.html')) seg = seg.replace(/\.html$/,'');
        if (!seg) seg = 'dashboard';

        var target = '/index.html#' + encodeURIComponent(seg);
        var a = document.getElementById('fallback');
        if (a) a.href = target;

        window.location.replace(target);
      } catch (e) {
        window.location.href = '/index.html#dashboard';
      }
    })();
  </script>
</body>
</html>
